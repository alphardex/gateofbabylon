title: H5开发小结
author: alphardex
abbrlink: 50603
tags:
  - Summary
categories:
  - 前端
date: 2020-08-10 16:55:00
---
# 前言

本文是我开发了许多H5活动后写下的小结

<!--more-->

# 正文

## 准备工作

```sh
npm i kyouka
```

```js
import ky from 'kyouka'
```

## 样式

### 响应式单位

选择`vw`作为单位

### 用滤镜后屏幕花掉

开启`gpu`加速

```css
transform: rotateZ(0);
```

## 业务

### ios键盘弹出错位

```js
ky.iosInputScrollFix()
```

### 禁止滚动

```js
ky.disableTouchMove()
```

### 防止提交后再次发送请求

动态绑定一个`disabled`属性即可

### 弹窗点击空白处可关闭

分2种情况：

1. 一般弹窗，用`sweetalert2`
2. 自定义弹窗，用`closeAllDialogMixin`

### 弹窗不显示域名

用`sweetalert2`代替原生`alert`即可

### 加载速度慢

考虑压缩图片素材

## 注意点

1. 发送请求后注意要同步更新页面上的数据
2. 若提交数据时间过长（比如图片上传），则应在页面上加一个`loader`
3. 展示型页面一定要注意文本的长度，过长则应截断（`.truncate`）
4. 注意各个手机的适配，写完样式后在开发者工具里把每个手机都跑一遍，跑通后再真机测试
5. 弹窗不能太大，至少没有设计稿里那么大